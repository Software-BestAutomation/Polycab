<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>

    <!-- Styles -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />

    <!-- Script -->
    <script src="{{ url_for('static', filename='js/main.js') }}" defer></script>

    <!-- Google Material Symbols -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL,GRAD@400,0,0"
    />
  </head>

  <body>
    <div id="unsupported-device-message" style="display: none">
      <div class="message-container">
        <h2>Unsupported Device</h2>
        <p>
          This page is not optimized for tablet or mobile devices. Please use a
          desktop computer for the best experience.
        </p>
      </div>
    </div>
    <nav id="sidebar">
      <ul>
        <li>
          <div class="logo-container">
            <span class="logo">Polycab</span>
            <!-- <span class="sub-logo">CamAdmin</span> -->
          </div>
          <button onclick="toggleSidebar()" id="toggle-btn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
              fill="#e8eaed"
            >
              <path
                d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z"
              ></path>
            </svg>
          </button>
        </li>
        <li class="active">
          <a href="#dashboard" data-view="dashboard" class="nav-link">
            <span class="material-symbols-outlined">dashboard</span>
            <span>Dashboard</span>
          </a>
        </li>

        <li>
          <button
            id="camera-btn"
            onclick="toggleCameraMenu()"
            class="dropdown-btn"
          >
            <img
              src="{{ url_for('static', filename='icons/camera-icon.png') }}"
              width="24"
              height="24"
              alt="Camera"
            />
            <span>Cameras</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              viewBox="0 -960 960 960"
              width="24px"
            >
              <path
                d="M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z"
              />
            </svg>
          </button>

          <!-- Give the submenu an id -->
          <ul class="sub-menu" id="camera-submenu">
            <div>
              <!-- This div will be animated -->
              <div id="camera-controls">
                <div class="search-box">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    height="20"
                    viewBox="0 -960 960 960"
                    width="20"
                    fill="#b0b3c1"
                  >
                    <path
                      d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"
                    />
                  </svg>
                  <input
                    type="text"
                    id="camera-search"
                    placeholder="Search cameras..."
                  />
                </div>
              </div>
              <div id="camera-list"></div>
            </div>
          </ul>
        </li>

        <li>
          <a href="#labs" data-view="labs" class="nav-link">
            <span class="material-symbols-outlined">science</span>
            <span>Lab Management</span>
          </a>
        </li>

        <li class="nav-item" data-view="cameras">
          <span class="material-symbols-outlined">videocam</span>
          <span>Cameras Management</span>
        </li>
        <li class="nav-item" data-view="requests">
          <span class="material-symbols-outlined">list_alt</span>
          <span>Requests</span>
          <span class="badge">3</span>
        </li>
        <li class="nav-item" data-view="sessions">
          <span class="material-symbols-outlined">history</span>
          <span>Sessions/History</span>
        </li>
        <li class="nav-item" data-view="settings">
          <span class="material-symbols-outlined">settings</span>
          <span>Settings</span>
        </li>
      </ul>
    </nav>
    <main class="content">
      <section id="dashboard" class="view-container active">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Drag camera here
        </p>
      </section>

      <section id="labs" class="view-container">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Lab management page for now
        </p>
      </section>

      <section id="cameras" class="view-container">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Cameras Management page for now
        </p>
      </section>

      <section id="requests" class="view-container">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Requests page for now
        </p>
      </section>

      <section id="sessions" class="view-container">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Sessions/History page for now
        </p>
      </section>

      <section id="settings" class="view-container">
        <p
          style="
            grid-column: 1/-1;
            text-align: center;
            color: #8a8b95;
            padding-top: 1rem;
          "
        >
          Settings page for now
        </p>
      </section>

      <section class="control-panel">
        <div class="controls">
          <p class="camera-name" id="camera-name"></p>
          <!-- PTZ Controls -->
          <button
            class="control-btn"
            onmousedown="startPTZ('Up')"
            onmouseup="stopPTZ('Up')"
          >
            <span class="material-symbols-outlined">arrow_upward</span> Up
          </button>
          <button
            class="control-btn"
            onmousedown="startPTZ('Down')"
            onmouseup="stopPTZ('Down')"
          >
            <span class="material-symbols-outlined">arrow_downward</span> Down
          </button>
          <button
            class="control-btn"
            onmousedown="startPTZ('Left')"
            onmouseup="stopPTZ('Left')"
          >
            <span class="material-symbols-outlined">arrow_back</span> Left
          </button>
          <button
            class="control-btn"
            onmousedown="startPTZ('Right')"
            onmouseup="stopPTZ('Right')"
          >
            <span class="material-symbols-outlined">arrow_forward</span> Right
          </button>

          <!-- Zoom Controls -->
          <button
            class="control-btn"
            onmousedown="startZoom('ZoomTele')"
            onmouseup="stopZoom('ZoomTele')"
          >
            <span class="material-symbols-outlined">zoom_in</span> Zoom In
          </button>
          <button
            class="control-btn"
            onmousedown="startZoom('ZoomWide')"
            onmouseup="stopZoom('ZoomWide')"
          >
            <span class="material-symbols-outlined">zoom_out</span> Zoom Out
          </button>

          <!-- Focus Controls -->
          <button
            class="control-btn"
            onmousedown="startPTZ('FocusNear')"
            onmouseup="stopPTZ('FocusNear')"
          >
            <span class="material-symbols-outlined">shadow_add</span> Focus In
          </button>
          <button
            class="control-btn"
            onmousedown="startPTZ('FocusFar')"
            onmouseup="stopPTZ('FocusFar')"
          >
            <span class="material-symbols-outlined">shadow_minus</span> Focus
            Out
          </button>

          <!-- Snapshot -->
          <button class="control-btn" onclick="captureSnapshot()">
            <span class="material-symbols-outlined">capture</span> Capture
          </button>
        </div>
      </section>
    </main>
  </body>
</html>
